<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentación de la API</title>
    <link rel="stylesheet" href="./css/IU.css">
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #3b82f6;
            --accent-color: #60a5fa;
            --text-color: #1f2937;
            --background-color: #f8fafc;
            --section-bg: #ffffff;
            --border-color: #e2e8f0;
            --heading-color: #1e40af;
            --method-bg: #f1f5f9;
            --hover-color: #dbeafe;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            margin: 0;
            padding: 0;
        }

        .api-documentation {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .api-section {
            background-color: var(--section-bg);
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-bottom: 2rem;
            padding: 2rem;
            transition: transform 0.2s ease;
        }

        .api-section:hover {
            transform: translateY(-2px);
        }

        h1, h2, h3, h4 {
            color: var(--heading-color);
            margin-top: 0;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            font-weight: 700;
        }

        h2 {
            font-size: 2rem;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .class {
            margin-bottom: 3rem;
        }

        .class-name {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .method {
            background-color: var(--method-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--accent-color);
        }

        .method:hover {
            background-color: var(--hover-color);
        }

        .method-name {
            color: var(--primary-color);
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            font-family: 'Fira Code', 'Consolas', monospace;
        }

        .method-description {
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .parameters {
            background-color: var(--section-bg);
            border-radius: 6px;
            padding: 1rem;
        }

        .parameter {
            margin: 0.5rem 0;
            padding-left: 1rem;
            border-left: 2px solid var(--accent-color);
        }

        .parameter-name {
            color: var(--primary-color);
            font-weight: 600;
            font-family: 'Fira Code', 'Consolas', monospace;
        }

        .parameter-type {
            color: var(--secondary-color);
            font-style: italic;
        }

        .return-value {
            margin-top: 1rem;
            padding: 1rem;
            background-color: var(--section-bg);
            border-radius: 6px;
        }

        .return-type {
            color: var(--primary-color);
            font-weight: 600;
            font-family: 'Fira Code', 'Consolas', monospace;
        }

        .navigation {
            position: sticky;
            top: 0;
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 2rem;
            z-index: 1000;
        }

        .nav-categories {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .nav-link {
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .nav-link:hover {
            background-color: var(--hover-color);
            transform: translateY(-1px);
        }

        .back-to-app {
            display: inline-block;
            text-align: center;
            margin: 2rem 0;
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            background-color: var(--hover-color);
            transition: all 0.2s ease;
        }

        .back-to-app:hover {
            background-color: var(--accent-color);
            color: white;
            transform: translateX(-5px);
        }

        .estructura {
            background-color: var(--method-bg);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .estructura-name {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .atributos, .validaciones {
            margin-top: 1.5rem;
        }

        .atributos h5, .validaciones h5 {
            color: var(--heading-color);
            margin-bottom: 1rem;
        }

        ul {
            list-style-type: none;
            padding-left: 0;
        }

        ul li {
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        ul li::before {
            content: "•";
            color: var(--accent-color);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        ul ul {
            margin-top: 0.5rem;
            padding-left: 1.5rem;
        }

        @media (max-width: 768px) {
            .api-documentation {
                padding: 1rem;
            }

            .nav-categories {
                flex-direction: column;
                align-items: stretch;
            }

            .nav-link {
                text-align: center;
            }

            .method {
                padding: 1rem;
            }
        }

        footer {
            background-color: var(--section-bg);
            border-top: 1px solid var(--border-color);
            padding: 2rem 0;
            text-align: center;
            margin-top: 4rem;
        }

        footer p {
            color: var(--text-color);
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="app-title">Documentación de la API</div>
        </div>
    </header>
    
    <div class="api-documentation">
        <a href="./index.html" class="back-to-app">← Volver a la Aplicación</a>        <div class="navigation">
            <div class="nav-categories">
                <a href="#core-classes" class="nav-link">Clases Base</a>
                <a href="#external-access-classes" class="nav-link">Acceso Externo</a>
                <a href="#entity-classes" class="nav-link">Clases de Entidad</a>
                <a href="#test-classes" class="nav-link">Clases de Prueba</a>
                <a href="#validation-classes" class="nav-link">Clases de Validación</a>
                <a href="#dom-validation-classes" class="nav-link">Validación DOM</a>
                <a href="#internationalization" class="nav-link">Internacionalización</a>
                <a href="#menu-system" class="nav-link">Sistema de Menú</a>
            </div>
        </div>
          <h1>Documentación de la API</h1>        <p>Esta documentación describe las clases y métodos utilizados en la aplicación.</p>
        
        <!-- Sección de Clases Base -->
        <section id="core-classes" class="api-section">
            <h2>Clases Base</h2>
            
            <div class="class">
                <h3 class="class-name">Entidad_Abstracta</h3>
                <p>Clase base abstracta para todas las entidades de la aplicación. Proporciona métodos comunes para operaciones de entidades.</p>
                
                <div class="method">
                    <h4 class="method-name">inicializar()</h4>
                    <p class="method-description">Inicializa la entidad y carga los datos principales.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">crearTablaDatos()</h4>
                    <p class="method-description">Crea la tabla de datos para la entidad.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">cargar_formulario()</h4>
                    <p class="method-description">Carga el formulario para la entidad, ya sea usando un método HTML predefinido o dinámicamente.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">change_value_IU(atributo, valor)</h4>
                    <p class="method-description">Permite cambiar el valor de visualización de un atributo en la interfaz. Puede ser sobrescrito por entidades específicas.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">atributo</span> <span class="parameter-type">(string)</span>: Nombre del atributo.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">valor</span> <span class="parameter-type">(cualquiera)</span>: Valor actual del atributo.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">cualquiera</span> - Valor modificado para mostrar.</p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">SEARCH()</h4>
                    <p class="method-description">Realiza una operación de búsqueda en el back-end para los datos de la entidad.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">Promise</span> - Promesa que se resuelve cuando la búsqueda está completa.</p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">ADD()</h4>
                    <p class="method-description">Envía una operación de agregar al back-end con los datos del formulario.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">Promise</span> - Promesa que se resuelve cuando la operación de agregar está completa.</p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">DELETE()</h4>
                    <p class="method-description">Envía una operación de eliminar al back-end con los datos del formulario.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">Promise</span> - Promesa que se resuelve cuando la operación de eliminar está completa.</p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">EDIT()</h4>
                    <p class="method-description">Envía una operación de editar al back-end con los datos del formulario.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">Promise</span> - Promesa que se resuelve cuando la operación de editar está completa.</p>
                    </div>
                </div>
            </div>
            
            <div class="class">
                <h3 class="class-name">DOM_class</h3>
                <p>Clase responsable de las operaciones de UI y manipulación del DOM.</p>
                
                <div class="method">
                    <h4 class="method-name">mostrar_error_campo(id, codigoerror)</h4>
                    <p class="method-description">Muestra un mensaje de error para un campo del formulario.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">id</span> <span class="parameter-type">(string)</span>: ID del campo.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">codigoerror</span> <span class="parameter-type">(string)</span>: Código de error a mostrar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">mostrar_exito_campo(id)</h4>
                    <p class="method-description">Oculta mensajes de error para un campo cuando es válido.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">id</span> <span class="parameter-type">(string)</span>: ID del campo.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">createForm(entidad, accion, parametros)</h4>
                    <p class="method-description">Crea un formulario basado en la estructura de la entidad y la acción.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">entidad</span> <span class="parameter-type">(string)</span>: Nombre de la entidad.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">accion</span> <span class="parameter-type">(string)</span>: Tipo de acción (ADD, EDIT, DELETE, SEARCH, SHOWCURRENT).
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">parametros</span> <span class="parameter-type">(object, opcional)</span>: Datos para poblar el formulario.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">cargar_formulario_dinamico(entidad, estructura)</h4>
                    <p class="method-description">Crea campos de formulario dinámicamente basados en la estructura de la entidad.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">entidad</span> <span class="parameter-type">(string)</span>: Nombre de la entidad.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">estructura</span> <span class="parameter-type">(object)</span>: Definición de la estructura de la entidad.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">load_data(parametros)</h4>
                    <p class="method-description">Carga datos en los campos del formulario.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">parametros</span> <span class="parameter-type">(object)</span>: Datos a cargar en el formulario.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">load_validations(accion)</h4>
                    <p class="method-description">Configura los event listeners de validación para los campos del formulario.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">accion</span> <span class="parameter-type">(string)</span>: Tipo de acción para validación.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">cerrar_formulario()</h4>
                    <p class="method-description">Cierra y limpia el formulario actual.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">cerrar_tabla()</h4>
                    <p class="method-description">Cierra y limpia la tabla de datos actual.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">getFormData(formId)</h4>
                    <p class="method-description">Recolecta los datos de un formulario y los convierte en un objeto.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">formId</span> <span class="parameter-type">(string)</span>: ID del formulario del cual recolectar datos.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">object</span> - Objeto con los datos del formulario.</p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">colocarvalidaciones(accion)</h4>
                    <p class="method-description">Configura los eventos de validación para todos los campos del formulario.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">accion</span> <span class="parameter-type">(string)</span>: Tipo de acción (ADD, EDIT, DELETE, SEARCH).
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">validate_date_format(dateStr)</h4>
                    <p class="method-description">Valida si una fecha tiene el formato correcto (dd/mm/yyyy).</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">dateStr</span> <span class="parameter-type">(string)</span>: Cadena de fecha a validar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span> - True si el formato es válido.</p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">is_numeric(value)</h4>
                    <p class="method-description">Valida si un valor es numérico.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">value</span> <span class="parameter-type">(any)</span>: Valor a validar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span> - True si el valor es numérico.</p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">check_special_tests(fieldId)</h4>
                    <p class="method-description">Verifica si existen validaciones especiales definidas en la clase de entidad y las ejecuta.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">fieldId</span> <span class="parameter-type">(string)</span>: ID del campo a validar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span> - True si pasa todas las validaciones especiales.</p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">abrirModalError(errorMsg)</h4>
                    <p class="method-description">Muestra un modal con un mensaje de error.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">errorMsg</span> <span class="parameter-type">(string)</span>: Código del mensaje de error a mostrar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>                <div class="method">
                    <h4 class="method-name">cerrarModalError()</h4>
                    <p class="method-description">Cierra el modal de error.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Sección de Clases de Acceso Externo -->
        <section id="external-access-classes" class="api-section">
            <h2>Clases de Acceso Externo</h2>
            
            <div class="class">
                <h3 class="class-name">ExternalAccess</h3>
                <p>Clase responsable de la comunicación con el back-end mediante peticiones AJAX. Maneja el envío de datos de formularios, incluyendo archivos, al servidor.</p>
                
                <div class="method">
                    <h4 class="method-name">peticionBackGeneral(formulario, controlador, action, datosextra)</h4>
                    <p class="method-description">Realiza una petición POST al back-end con los datos del formulario especificado. Maneja automáticamente archivos y datos adicionales.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">formulario</span> <span class="parameter-type">(string)</span>: ID del formulario del cual recoger los datos, o cadena vacía para FormData vacío.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">controlador</span> <span class="parameter-type">(string)</span>: Nombre del controlador en el back-end (nombre de la entidad).
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">action</span> <span class="parameter-type">(string)</span>: Acción a realizar (ADD, EDIT, DELETE, SEARCH).
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">datosextra</span> <span class="parameter-type">(object, opcional)</span>: Datos adicionales a enviar con la petición.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">Promise</span> - Promesa que se resuelve con la respuesta del servidor.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Sección de Clases de Entidad -->
        <section id="entity-classes" class="api-section">
            <h2>Clases de Entidad</h2>
            
            <div class="class">
                <h3 class="class-name">Characteristic</h3>
                <p>Clase que representa una característica en el sistema. Extiende de Entidad_Abstract_class y proporciona funcionalidad específica para manejar características.</p>
                
                <div class="method">
                    <h4 class="method-name">constructor()</h4>
                    <p class="method-description">Inicializa una nueva instancia de la clase Characteristic. Configura la entidad con su estructura predefinida.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">Characteristic</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">change_value_IU(atributo, valoratributo)</h4>
                    <p class="method-description">Modifica el valor de visualización de un atributo. Especialmente útil para el manejo de archivos.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">atributo</span> <span class="parameter-type">(string)</span>: Nombre del atributo a modificar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">valoratributo</span> <span class="parameter-type">(string|object)</span>: Valor del atributo a transformar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">string</span> - Valor transformado para mostrar en la UI.</p>
                    </div>
                </div>

                <div class="estructura">
                    <h4 class="estructura-name">Estructura (estructura_characteristic)</h4>
                    <p class="estructura-description">Define la estructura de datos y validaciones para la entidad Characteristic.</p>
                    
                    <div class="atributos">
                        <h5>Atributos:</h5>
                        <ul>
                            <li><strong>id_characteristic:</strong> Identificador único (PK, autoincremental)</li>
                            <li><strong>name_characteristic:</strong> Nombre de la característica</li>
                            <li><strong>description_characteristic:</strong> Descripción detallada</li>
                            <li><strong>data_type_characteristic:</strong> Tipo de dato</li>
                            <li><strong>category_characteristic:</strong> Categoría</li>
                            <li><strong>bibref_characteristic:</strong> Referencia bibliográfica</li>
                            <li><strong>file_characteristic:</strong> Archivo asociado</li>
                            <li><strong>nuevo_file_characteristic:</strong> Campo para subir nuevo archivo</li>
                        </ul>
                    </div>

                    <div class="validaciones">
                        <h5>Reglas de Validación:</h5>
                        <ul>
                            <li><strong>name_characteristic:</strong>
                                <ul>
                                    <li>Longitud mínima: 8 caracteres</li>
                                    <li>Longitud máxima: 100 caracteres</li>
                                    <li>Formato: solo letras y espacios</li>
                                </ul>
                            </li>
                            <li><strong>description_characteristic:</strong>
                                <ul>
                                    <li>Longitud mínima: 80 caracteres</li>
                                    <li>Longitud máxima: 5000 caracteres</li>
                                    <li>Campo obligatorio</li>
                                </ul>
                            </li>                            <li><strong>file_characteristic:</strong>
                                <ul>
                                    <li>Tipos permitidos: pdf, doc, docx</li>
                                    <li>Tamaño máximo: 2MB</li>
                                    <li>Nombre: solo letras y extensión válida</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="class">
                <h3 class="class-name">Analysis_preparation</h3>
                <p>Clase que representa una preparación de análisis en el sistema. Extiende de Entidad_Abstract_class y maneja información sobre métodos de preparación de análisis con archivos asociados.</p>
                
                <div class="method">
                    <h4 class="method-name">constructor()</h4>
                    <p class="method-description">Inicializa una nueva instancia de la clase Analysis_preparation. Configura la entidad con su estructura predefinida y especifica que file_analysis_preparation requiere manejo especial en tabla.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">Analysis_preparation</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">change_value_IU(atributo, valoratributo)</h4>
                    <p class="method-description">Modifica el valor de visualización de un atributo. Maneja especialmente el campo file_analysis_preparation para mostrar un enlace con icono al archivo.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">atributo</span> <span class="parameter-type">(string)</span>: Nombre del atributo a modificar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">valoratributo</span> <span class="parameter-type">(string)</span>: Valor del atributo a transformar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">string</span> - HTML con enlace e icono para archivos, o valor original para otros campos.</p>
                    </div>
                </div>

                <div class="estructura">
                    <h4 class="estructura-name">Estructura (estructura_analysis_preparation)</h4>
                    <p class="estructura-description">Define la estructura de datos y validaciones para la entidad Analysis_preparation.</p>
                    
                    <div class="atributos">
                        <h5>Atributos:</h5>
                        <ul>
                            <li><strong>id_analysis_preparation:</strong> Identificador único (PK, autoincremental)</li>
                            <li><strong>name_analysis_preparation:</strong> Nombre de la preparación de análisis</li>
                            <li><strong>description_analysis_preparation:</strong> Descripción detallada</li>
                            <li><strong>bib_analysis_preparation:</strong> Referencia bibliográfica</li>
                            <li><strong>file_analysis_preparation:</strong> Archivo asociado</li>
                            <li><strong>nuevo_file_analysis_preparation:</strong> Campo para subir nuevo archivo</li>
                        </ul>
                    </div>

                    <div class="validaciones">
                        <h5>Reglas de Validación:</h5>
                        <ul>
                            <li><strong>id_analysis_preparation:</strong>
                                <ul>
                                    <li>Búsqueda: máximo 9 caracteres, solo números</li>
                                </ul>
                            </li>
                            <li><strong>name_analysis_preparation:</strong>
                                <ul>
                                    <li>Longitud mínima: 8 caracteres </li>
                                    <li>Longitud máxima: 100 caracteres </li>
                                    <li>Formato: solo letras y espacios</li>
                                    <li>Campo obligatorio</li>
                                </ul>
                            </li>
                            <li><strong>description_analysis_preparation:</strong>
                                <ul>
                                    <li>Longitud mínima: 80 caracteres</li>
                                    <li>Longitud máxima: 5000 caracteres</li>
                                    <li>Formato: solo letras y espacios</li>
                                    <li>Campo obligatorio</li>
                                </ul>
                            </li>
                            <li><strong>bib_analysis_preparation:</strong>
                                <ul>
                                    <li>Longitud mínima: 6 caracteres</li>
                                    <li>Longitud máxima: 200 caracteres</li>
                                    <li>Formato: letras, espacios y signos de puntuación</li>
                                    <li>Campo obligatorio</li>
                                </ul>
                            </li>
                            <li><strong>file_analysis_preparation:</strong>
                                <ul>
                                    <li>Longitud máxima: 100 caracteres</li>
                                    <li>Formato: solo letras con extensión .pdf, .doc o .docx</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="class">
                <h3 class="class-name">Project</h3>
                <p>Clase que representa un proyecto en el sistema. Extiende de Entidad_Abstract_class e incluye validaciones especiales para fechas de inicio y fin del proyecto.</p>
                
                <div class="method">
                    <h4 class="method-name">constructor()</h4>
                    <p class="method-description">Inicializa una nueva instancia de la clase Project. Configura la entidad con su estructura predefinida y especifica que file_project requiere manejo especial en tabla.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">Project</span></p>
                    </div>
                </div>
                
                <div class="method">
                    <h4 class="method-name">change_value_IU(atributo, valoratributo)</h4>
                    <p class="method-description">Modifica el valor de visualización de un atributo. Maneja especialmente el campo file_project para mostrar un enlace con icono al archivo.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">atributo</span> <span class="parameter-type">(string)</span>: Nombre del atributo a modificar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">valoratributo</span> <span class="parameter-type">(string)</span>: Valor del atributo a transformar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">string</span> - HTML con enlace e icono para archivos, o valor original para otros campos.</p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">check_special_start_date_project()</h4>
                    <p class="method-description">Validación especial para el campo start_date_project. Verifica que la fecha tenga formato válido (DD/MM/YYYY) y sea una fecha real.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean|string</span> - true si es válida, código de error si no lo es.</p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">check_special_end_date_project()</h4>
                    <p class="method-description">Validación especial para el campo end_date_project. Verifica formato válido y que la fecha de fin sea posterior a la fecha de inicio del proyecto.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean|string</span> - true si es válida, código de error si no lo es.</p>
                    </div>
                </div>

                <div class="estructura">
                    <h4 class="estructura-name">Estructura (estructura_project)</h4>
                    <p class="estructura-description">Define la estructura de datos y validaciones para la entidad Project.</p>
                    
                    <div class="atributos">
                        <h5>Atributos:</h5>
                        <ul>
                            <li><strong>id_project:</strong> Identificador único (PK, autoincremental)</li>
                            <li><strong>name_project:</strong> Nombre del proyecto</li>
                            <li><strong>start_date_project:</strong> Fecha de inicio (DD/MM/YYYY)</li>
                            <li><strong>end_date_project:</strong> Fecha de fin (DD/MM/YYYY)</li>
                            <li><strong>responsable_project:</strong> Responsable del proyecto</li>
                            <li><strong>organization_project:</strong> Organización</li>
                            <li><strong>description_project:</strong> Descripción del proyecto</li>
                            <li><strong>file_project:</strong> Archivo asociado</li>
                            <li><strong>nuevo_file_project:</strong> Campo para subir nuevo archivo</li>
                            <li><strong>code_project:</strong> Código del proyecto</li>
                            <li><strong>acronym_project:</strong> Acrónimo del proyecto</li>
                            <li><strong>id_sampling_methodology:</strong> ID de metodología de muestreo</li>
                        </ul>
                    </div>

                    <div class="validaciones">
                        <h5>Reglas de Validación:</h5>
                        <ul>
                            <li><strong>id_project:</strong>
                                <ul>
                                    <li>Búsqueda: máximo 11 caracteres, solo números</li>
                                </ul>
                            </li>                            <li><strong>name_project:</strong>
                                <ul>
                                    <li>Longitud mínima: 15 caracteres </li>
                                    <li>Longitud máxima: 100 caracteres </li>
                                    <li>Formato: solo letras y espacios</li>
                                    <li>Campo obligatorio</li>
                                </ul>
                            </li>
                            <li><strong>start_date_project:</strong>
                                <ul>
                                    <li>Formato: DD/MM/YYYY (solo números y barras)</li>
                                    <li>Validación de fecha válida</li>
                                    <li>Validación especial: check_special_start_date_project()</li>
                                    <li>Campo obligatorio</li>
                                </ul>
                            </li>
                            <li><strong>end_date_project:</strong>
                                <ul>
                                    <li>Formato: DD/MM/YYYY (solo números y barras)</li>
                                    <li>Validación de fecha válida</li>
                                    <li>Debe ser mayor que start_date_project</li>
                                    <li>Validación especial: check_special_end_date_project()</li>
                                    <li>Campo obligatorio</li>
                                </ul>
                            </li>
                            <li><strong>responsable_project:</strong>
                                <ul>
                                    <li>Longitud mínima: 6 caracteres</li>
                                    <li>Longitud máxima: 60 caracteres</li>
                                    <li>Formato: letras, espacios y caracteres acentuados</li>
                                    <li>Campo obligatorio</li>
                                </ul>
                            </li>
                            <li><strong>organization_project:</strong>
                                <ul>
                                    <li>Longitud mínima: 6 caracteres</li>
                                    <li>Longitud máxima: 100 caracteres</li>
                                    <li>Formato: letras, espacios y caracteres acentuados</li>
                                    <li>Campo obligatorio</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Sección de Clases de Prueba -->
        <section id="test-classes" class="api-section">
            <h2>Clases de Prueba</h2>

            <div class="class">
                <h3 class="class-name">Test_class</h3>
                <p>Clase que gestiona la ejecución y visualización de pruebas unitarias.</p>

                <div class="method">
                    <h4 class="method-name">test_run()</h4>
                    <p class="method-description">Ejecuta las pruebas definidas para la entidad actual.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>                <div class="method">
                    <h4 class="method-name">test_entidad()</h4>
                    <p class="method-description">Ejecuta las pruebas específicas de una entidad, incluyendo validaciones especiales. Soporta valores extra para configurar campos adicionales necesarios para las validaciones especiales.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                        <p><strong>Formato de tests con valores extra:</strong></p>
                        <pre><code>Array('entidad', 'campo', testId, testNum, 'acción', 'valor', {'campo_extra': 'valor_extra'}, 'código_error_esperado')</code></pre>
                        <p><strong>Ejemplo:</strong></p>
                        <pre><code>Array('project', 'end_date_project', 19, 37, 'ADD', '31/12/2020', {'start_date_project': '01/01/2025'}, 'end_date_project_greater_than_start_KO')</code></pre>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">test_entidad_files()</h4>
                    <p class="method-description">Ejecuta las pruebas específicas para archivos de una entidad.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">mostrarDefTests()</h4>
                    <p class="method-description">Muestra la definición de las pruebas en la interfaz.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>                <div class="method">
                    <h4 class="method-name">mostrarDefPruebas()</h4>
                    <p class="method-description">Muestra los resultados de las pruebas en la interfaz.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">updateTestResultInTable(table, testId, testNum, field, resultado)</h4>
                    <p class="method-description">Actualiza el resultado de una prueba específica en la tabla de resultados.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">table</span> <span class="parameter-type">(HTMLElement)</span>: Elemento tabla donde actualizar el resultado.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">testId</span> <span class="parameter-type">(number)</span>: ID de la definición de test.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">testNum</span> <span class="parameter-type">(number)</span>: Número de la prueba.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">field</span> <span class="parameter-type">(string)</span>: Campo que se está probando.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">resultado</span> <span class="parameter-type">(string)</span>: Resultado de la prueba (código de error o 'OK').
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">traduccion(codigo)</h4>
                    <p class="method-description">Traduce códigos de error a mensajes legibles según el idioma actual.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">codigo</span> <span class="parameter-type">(string|boolean)</span>: Código de error o valor booleano.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">string</span> - Mensaje traducido.</p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">mostrarResultadoFinal()</h4>
                    <p class="method-description">Muestra un resumen final con estadísticas de todas las pruebas ejecutadas.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Sección de Clases de Validación -->
        <section id="validation-classes" class="api-section">
            <h2>Clases de Validación</h2>

            <div class="class">
                <h3 class="class-name">Validaciones_Atomicas</h3>
                <p>Clase que proporciona validaciones básicas para los campos de formularios.</p>

                <div class="method">
                    <h4 class="method-name">min_size(id, parametro)</h4>
                    <p class="method-description">Valida que un campo tenga una longitud mínima.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">id</span> <span class="parameter-type">(string)</span>: ID del campo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">parametro</span> <span class="parameter-type">(number)</span>: Longitud mínima requerida.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">max_size(id, parametro)</h4>
                    <p class="method-description">Valida que un campo no exceda una longitud máxima.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">id</span> <span class="parameter-type">(string)</span>: ID del campo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">parametro</span> <span class="parameter-type">(number)</span>: Longitud máxima permitida.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">reg_exp(id, parametro)</h4>
                    <p class="method-description">Valida que el valor de un campo cumpla con una expresión regular.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">id</span> <span class="parameter-type">(string)</span>: ID del campo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">parametro</span> <span class="parameter-type">(string)</span>: Expresión regular a aplicar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">max_size_file(objfile, maxsize)</h4>
                    <p class="method-description">Valida que el tamaño de un archivo no exceda el límite máximo.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">objfile</span> <span class="parameter-type">(File)</span>: Objeto archivo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">maxsize</span> <span class="parameter-type">(number)</span>: Tamaño máximo en bytes.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span></p>
                    </div>
                </div>                <div class="method">
                    <h4 class="method-name">file_type(objfile, array_tipos)</h4>
                    <p class="method-description">Valida que el tipo MIME del archivo esté permitido.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">objfile</span> <span class="parameter-type">(File)</span>: Objeto archivo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">array_tipos</span> <span class="parameter-type">(Array)</span>: Array de tipos MIME permitidos.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">format_name_file(objfile, exprreg)</h4>
                    <p class="method-description">Valida que el nombre del archivo cumpla con una expresión regular.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">objfile</span> <span class="parameter-type">(File)</span>: Objeto archivo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">exprreg</span> <span class="parameter-type">(string)</span>: Expresión regular para validar el nombre.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span></p>
                    </div>
                </div>                <div class="method">
                    <h4 class="method-name">no_file(objfile)</h4>
                    <p class="method-description">Valida que se haya seleccionado un archivo.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">objfile</span> <span class="parameter-type">(File)</span>: Objeto archivo a validar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">min_size_name_file(objfile, param)</h4>
                    <p class="method-description">Valida que el nombre del archivo tenga una longitud mínima.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">objfile</span> <span class="parameter-type">(File)</span>: Objeto archivo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">param</span> <span class="parameter-type">(number)</span>: Longitud mínima requerida para el nombre del archivo.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">max_size_name_file(objfile, param)</h4>
                    <p class="method-description">Valida que el nombre del archivo no exceda una longitud máxima.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">objfile</span> <span class="parameter-type">(File)</span>: Objeto archivo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">param</span> <span class="parameter-type">(number)</span>: Longitud máxima permitida para el nombre del archivo.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección de Clases de Validación DOM -->
        <section id="dom-validation-classes" class="api-section">
            <h2>Clases de Validación DOM</h2>

            <div class="class">
                <h3 class="class-name">DOM_validations</h3>
                <p>Clase que extiende DOM_class y gestiona las validaciones de formularios en tiempo real, incluyendo validaciones especiales personalizadas por entidad.</p>

                <div class="method">
                    <h4 class="method-name">load_validations(accion)</h4>
                    <p class="method-description">Carga y asocia eventos de validación a los campos del formulario según la acción especificada.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">accion</span> <span class="parameter-type">(string)</span>: Acción del formulario (ADD, EDIT, SEARCH, etc.).
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">void</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">comprobarCampo(campo, accion)</h4>
                    <p class="method-description">Valida un campo específico del formulario aplicando las reglas de validación definidas en la estructura de la entidad.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">campo</span> <span class="parameter-type">(string)</span>: ID del campo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">accion</span> <span class="parameter-type">(string)</span>: Acción del formulario (ADD, EDIT, SEARCH, etc.).
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span> - true si la validación pasa, false en caso contrario.</p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">comprobar_file_characteristic(campo, validacionesCampo)</h4>
                    <p class="method-description">Valida campos de tipo archivo aplicando validaciones específicas como tamaño, tipo y formato del nombre.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">campo</span> <span class="parameter-type">(string)</span>: ID del campo de archivo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">validacionesCampo</span> <span class="parameter-type">(Object)</span>: Objeto con las reglas de validación del campo.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span> - true si la validación pasa, false en caso contrario.</p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">check_special_tests(fieldId)</h4>
                    <p class="method-description">Busca y ejecuta métodos de validación especiales definidos en la clase de entidad con el patrón check_special_NOMBREATRIBUTO().</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">fieldId</span> <span class="parameter-type">(string)</span>: ID del campo para el cual buscar validaciones especiales.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span> - true si la validación pasa o no existe método especial, false si hay error.</p>
                    </div>
                    <div class="method-description">
                        <p><strong>Ejemplo de uso en clases de entidad:</strong></p>
                        <pre><code>// En Project_class.js
check_special_end_date_project() {
    // Validación personalizada para fechas
    if (error_condition) {
        return 'end_date_project_greater_than_start_KO';
    }
    return true;
}</code></pre>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">validate_field(fieldId, entity, action)</h4>
                    <p class="method-description">Método genérico para validar un campo específico de cualquier entidad.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">fieldId</span> <span class="parameter-type">(string)</span>: ID del campo a validar.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">entity</span> <span class="parameter-type">(string)</span>: Nombre de la entidad.
                        </div>
                        <div class="parameter">
                            <span class="parameter-name">action</span> <span class="parameter-type">(string)</span>: Acción del formulario.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span></p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">comprobar_submit()</h4>
                    <p class="method-description">Valida todos los campos del formulario antes del envío, incluyendo validaciones especiales.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span> - true si todas las validaciones pasan, false en caso contrario.</p>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">comprobar_submit_SEARCH()</h4>
                    <p class="method-description">Validación específica para formularios de búsqueda (menos restrictiva).</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong> Ninguno</p>
                    </div>
                    <div class="return-value">
                        <p><strong>Devuelve:</strong> <span class="return-type">boolean</span> - Siempre true para búsquedas.</p>
                    </div>                </div>
            </div>

            <!-- Sección de Ejemplos Prácticos -->
            <div class="estructura">
                <h4 class="estructura-name">Ejemplos Prácticos de Validaciones Especiales</h4>
                
                <div class="method-description">
                    <p><strong>1. Implementar validación especial en una clase de entidad:</strong></p>
                    <pre><code>// En Project_class.js
class Project extends Entidad_Abstract_class {
    // Validación especial para fechas de fin
    check_special_end_date_project() {
        const endDateField = document.getElementById('end_date_project');
        const startDateField = document.getElementById('start_date_project');
        
        if (!endDateField || !endDateField.value) {
            return true; // Si no hay valor, las validaciones regulares se encargan
        }

        // Validar que end_date sea mayor que start_date
        if (startDateField && startDateField.value) {
            if (new Date(endDateField.value) <= new Date(startDateField.value)) {
                return 'end_date_project_greater_than_start_KO';
            }
        }
        return true;
    }
}</code></pre>
                </div>                <div class="method-description">
                    <p><strong>2. Definir tests con valores extra para validaciones especiales:</strong></p>
                    <pre><code>// En test_definitions.js
window.project_tests = Array(
    // Test que falla por fecha fin anterior a fecha inicio
    Array('project', 'end_date_project', 19, 37, 'ADD', '31/12/2020', 
          {'start_date_project': '01/01/2025'}, 'end_date_project_greater_than_start_KO'),
    
    // Test que pasa con fechas correctas
    Array('project', 'end_date_project', 19, 38, 'ADD', '31/12/2025', 
          {'start_date_project': '01/01/2025'}, 'OK')
);</code></pre>
                </div>

                <div class="method-description">
                    <p><strong>3. Uso del sistema de validaciones en tiempo real:</strong></p>
                    <pre><code>// El sistema automáticamente:
// 1. Ejecuta validaciones regulares (min_size, max_size, reg_exp, etc.)
// 2. Busca métodos check_special_NOMBREATRIBUTO() en la clase de entidad
// 3. Ejecuta las validaciones especiales encontradas
// 4. Muestra errores o marca el campo como válido

// Ejemplo de uso programático:
const validator = new DOM_validations();
validator.entidad = 'project';
const isValid = validator.comprobarCampo('end_date_project', 'ADD');</code></pre>
                </div>

                <div class="method-description">
                    <p><strong>4. Códigos de error personalizados:</strong></p>
                    <pre><code>// En Textos_ES.js
const Textos = {
    'end_date_project_greater_than_start_KO': 'La fecha de fin no puede ser anterior a la fecha de inicio',
    'start_date_project_format_KO': 'El formato de fecha debe ser DD/MM/YYYY',
    'start_date_project_valid_KO': 'La fecha introducida no es válida'
};</code></pre>
                </div>
            </div>
        </section>

        <!-- Sección de Internacionalización -->
        <section id="internationalization" class="api-section">
            <h2>Sistema de Internacionalización</h2>
            <p>El sistema incluye soporte completo para múltiples idiomas (Español e Inglés) mediante archivos de textos y un sistema de gestión de idiomas.</p>

            <div class="class">
                <h3 class="class-name">Textos_ES</h3>
                <p class="class-description">Archivo de constantes de texto en español.</p>
                <p><strong>Ubicación:</strong> <code>js/core/Textos_ES.js</code></p>
                
                <div class="method">
                    <h4 class="method-name">Estructura de Textos</h4>
                    <p class="method-description">Contiene todas las cadenas de texto de la aplicación en español:</p>
                    <ul>
                        <li><strong>Elementos comunes:</strong> title, menu, search, add, edit, delete, etc.</li>
                        <li><strong>Etiquetas de formulario:</strong> required_field, min_length, max_length, format_error</li>
                        <li><strong>Textos específicos de entidades:</strong> characteristic, project, analysis_preparation</li>
                        <li><strong>Mensajes de validación:</strong> Códigos de error específicos para cada campo</li>
                        <li><strong>Títulos de tabla:</strong> Encabezados para las columnas de datos</li>
                    </ul>
                </div>
            </div>

            <div class="class">
                <h3 class="class-name">Textos_EN</h3>
                <p class="class-description">Archivo de constantes de texto en inglés.</p>
                <p><strong>Ubicación:</strong> <code>js/core/Textos_EN.js</code></p>
                
                <div class="method">
                    <h4 class="method-name">Estructura de Textos</h4>
                    <p class="method-description">Traducción completa al inglés de todos los textos de la aplicación, manteniendo la misma estructura que Textos_ES.</p>
                </div>
            </div>

            <div class="class">
                <h3 class="class-name">Sistema de Idiomas</h3>
                <p class="class-description">Gestión dinámica del cambio de idioma.</p>
                <p><strong>Ubicación:</strong> <code>js/core/idioma.js</code></p>
                
                <div class="method">
                    <h4 class="method-name">changeLang()</h4>
                    <p class="method-description">Alterna entre español e inglés, actualizando automáticamente toda la interfaz.</p>
                    <div class="parameters">
                        <p><strong>Funcionalidad:</strong></p>
                        <ul>
                            <li>Cambia la variable global <code>current_lang</code></li>
                            <li>Actualiza <code>window.Textos</code> con el nuevo idioma</li>
                            <li>Cambia el icono de bandera (España/Reino Unido)</li>
                            <li>Llama a <code>setLang()</code> para actualizar la interfaz</li>
                        </ul>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">setLang()</h4>
                    <p class="method-description">Actualiza todos los elementos de texto en la página con el idioma actual.</p>
                    <div class="parameters">
                        <p><strong>Funcionalidad:</strong></p>
                        <ul>
                            <li>Busca elementos con atributos <code>data-text-key</code></li>
                            <li>Actualiza elementos con clases que empiecen por <code>text_</code></li>
                            <li>Actualiza el menú de navegación</li>
                            <li>Aplica traducciones a formularios y tablas dinámicas</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sección del Sistema de Menú -->
        <section id="menu-system" class="api-section">
            <h2>Sistema de Menú</h2>
            <p>Sistema de navegación dinámico que gestiona las entidades disponibles y la navegación de la aplicación.</p>

            <div class="class">
                <h3 class="class-name">menuConfig</h3>
                <p class="class-description">Objeto de configuración del menú principal.</p>
                <p><strong>Ubicación:</strong> <code>js/core/menu.js</code></p>
                
                <div class="method">
                    <h4 class="method-name">entities</h4>
                    <p class="method-description">Array de configuración de entidades disponibles:</p>
                    <div class="code-example">
<pre><code>{
    id: 'characteristic',
    textKey: 'characteristics',
    className: 'Characteristic'
}</code></pre>
                    </div>
                    <ul>
                        <li><strong>id:</strong> Identificador único de la entidad</li>
                        <li><strong>textKey:</strong> Clave para el texto de traducción</li>
                        <li><strong>className:</strong> Nombre de la clase JavaScript correspondiente</li>
                    </ul>
                </div>

                <div class="method">
                    <h4 class="method-name">initialize()</h4>
                    <p class="method-description">Inicializa el menú desplegable con las entidades disponibles.</p>
                    <div class="parameters">
                        <p><strong>Funcionalidad:</strong></p>
                        <ul>
                            <li>Limpia el contenido del menú existente</li>
                            <li>Crea enlaces dinámicos para cada entidad</li>
                            <li>Añade enlace a la documentación API</li>
                            <li>Asigna eventos onclick para cargar entidades</li>
                        </ul>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">updateText()</h4>
                    <p class="method-description">Actualiza los textos del menú cuando cambia el idioma.</p>
                    <div class="parameters">
                        <p><strong>Funcionalidad:</strong></p>
                        <ul>
                            <li>Busca elementos del menú por clase CSS</li>
                            <li>Actualiza el texto usando las traducciones actuales</li>
                            <li>Mantiene la funcionalidad de navegación</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="class">
                <h3 class="class-name">Funciones de Navegación</h3>
                <p class="class-description">Funciones globales para la gestión de la navegación.</p>
                
                <div class="method">
                    <h4 class="method-name">loadEntity(entityName)</h4>
                    <p class="method-description">Carga una entidad específica y actualiza la interfaz.</p>
                    <div class="parameters">
                        <p><strong>Parámetros:</strong></p>
                        <div class="parameter">
                            <span class="parameter-name">entityName</span> <span class="parameter-type">(string)</span>: Nombre de la entidad a cargar.
                        </div>
                    </div>
                    <div class="return-value">
                        <p><strong>Funcionalidad:</strong></p>
                        <ul>
                            <li>Cierra formularios y tablas existentes</li>
                            <li>Instancia la clase correspondiente de la entidad</li>
                            <li>Muestra el título y botón de pruebas</li>
                            <li>Cierra el menú desplegable</li>
                        </ul>
                    </div>
                </div>

                <div class="method">
                    <h4 class="method-name">toggleMenu()</h4>
                    <p class="method-description">Alterna la visibilidad del menú desplegable.</p>
                </div>
            </div>
        </section>
    </div>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 - Julio Antonio Caride Pernas</p>
        </div>
    </footer>
</body>
</html>